src/components/dashboard/TripHistory.tsx(38,31): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/components/debug/DebugInfo.tsx(22,33): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/components/filtering/AdvancedFilterControls.tsx(74,14): error TS2345: Argument of type '(options: FilterOptions) => void' is not assignable to parameter of type '(...args: unknown[]) => unknown'.
  Types of parameters 'options' and 'args' are incompatible.
    Type 'unknown' is not assignable to type 'FilterOptions'.
src/components/forms/analytics/FormAnalyticsDashboard.tsx(76,62): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/components/forms/DynamicFormRenderer.tsx(130,26): error TS2352: Conversion of type 'Record<string, unknown>' to type 'FormSubmissionData' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'Record<string, unknown>' is missing the following properties from type 'FormSubmissionData': formId, formName, data, metadata
src/components/forms/FieldRenderer.tsx(304,11): error TS2322: Type 'unknown' is not assignable to type 'DateRangeValue | undefined'.
src/components/forms/FieldRenderer.tsx(316,11): error TS2322: Type 'unknown' is not assignable to type 'Airport | undefined'.
src/components/forms/FieldRenderer.tsx(339,11): error TS2322: Type 'unknown' is not assignable to type 'AddressValue | undefined'.
src/components/forms/fields/DynamicFieldRenderer.tsx(311,13): error TS2322: Type '{ value: string; onChange: (newValue: string) => void; placeholder: string | undefined; disabled: boolean; error: string | undefined; minDate: number | undefined; maxDate: number | undefined; }' is not assignable to type 'IntrinsicAttributes & DateFieldProps'.
  Property 'minDate' does not exist on type 'IntrinsicAttributes & DateFieldProps'.
src/components/forms/fields/DynamicFieldRenderer.tsx(337,13): error TS2322: Type '{ value: string; onChange: (newValue: string) => void; placeholder: string | undefined; disabled: boolean; error: string | undefined; defaultCountry: string | undefined; }' is not assignable to type 'IntrinsicAttributes & PhoneInputFieldProps'.
  Property 'defaultCountry' does not exist on type 'IntrinsicAttributes & PhoneInputFieldProps'.
src/components/forms/fields/DynamicFieldRenderer.tsx(371,13): error TS2322: Type '{ value: { street: string; city: string; state: string; zipCode: string; country: string; }; onChange: (newValue: unknown) => void; disabled: boolean; error: string | undefined; config: { includeCity?: boolean | undefined; includeState?: boolean | undefined; includeCountry?: boolean | undefined; includePostalCode?: ...' is not assignable to type 'IntrinsicAttributes & AddressGroupFieldProps'.
  Property 'config' does not exist on type 'IntrinsicAttributes & AddressGroupFieldProps'.
src/components/forms/FlightRuleForm.test.tsx(113,52): error TS2322: Type '{ origin: string[]; destination: string; earliestOutbound: Date; latestReturn: Date; cabinClass: string; budget: number; }' is not assignable to type 'Partial<{ origin: string[]; destination: string; budget: number; cabinClass: "economy" | "premium_economy" | "business" | "first" | "any"; earliestOutbound: Date; latestReturn: Date; paymentMethodId?: string | undefined; autoBookEnabled?: boolean | undefined; }>'.
  Types of property 'cabinClass' are incompatible.
    Type 'string' is not assignable to type '"economy" | "premium_economy" | "business" | "first" | "any" | undefined'.
src/components/forms/FlightRuleForm.test.tsx(139,52): error TS2322: Type '{ origin: string[]; destination: string; earliestOutbound: Date; latestReturn: Date; cabinClass: string; budget: number; }' is not assignable to type 'Partial<{ origin: string[]; destination: string; budget: number; cabinClass: "economy" | "premium_economy" | "business" | "first" | "any"; earliestOutbound: Date; latestReturn: Date; paymentMethodId?: string | undefined; autoBookEnabled?: boolean | undefined; }>'.
  Types of property 'cabinClass' are incompatible.
    Type 'string' is not assignable to type '"economy" | "premium_economy" | "business" | "first" | "any" | undefined'.
src/components/personalization/GreetingBanner.tsx(42,11): error TS2353: Object literal may only specify known properties, and 'abTestVariant' does not exist in type '{ variant?: string | undefined; hasPersonalData?: boolean | undefined; interactionType?: string | undefined; }'.
src/components/personalization/GreetingBanner.tsx(83,13): error TS2353: Object literal may only specify known properties, and 'abTestVariant' does not exist in type '{ variant?: string | undefined; hasPersonalData?: boolean | undefined; interactionType?: string | undefined; }'.
src/components/trip/Pools/__tests__/PoolLayout.test.tsx(34,12): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ manual: string[]; }'.
  No index signature with a parameter of type 'string' was found on type '{ manual: string[]; }'.
src/components/trip/sections/BookingMethodSection.tsx(20,29): error TS2322: Type 'Control<BookingMethodFormData>' is not assignable to type 'Control<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>'.
  The types of '_subjects.state' are incompatible between these types.
    Type 'FormStateSubjectRef<BookingMethodFormData>' is not assignable to type 'FormStateSubjectRef<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>'.
      Type 'FormStateSubjectRef<BookingMethodFormData>' is not assignable to type '{ readonly observers: Observer<Partial<FormState<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>> & { ...; }>[]; subscribe: (valu...'.
        Types of property 'observers' are incompatible.
          Type 'Observer<Partial<FormState<BookingMethodFormData>> & { name?: string | undefined; values?: BookingMethodFormData | undefined; type?: EventType | undefined; }>[]' is not assignable to type 'Observer<Partial<FormState<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>> & { ...; }>[]'.
            Type 'Observer<Partial<FormState<BookingMethodFormData>> & { name?: string | undefined; values?: BookingMethodFormData | undefined; type?: EventType | undefined; }>' is not assignable to type 'Observer<Partial<FormState<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>> & { ...; }>'.
              Type 'Partial<FormState<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>> & { ...; }' is not assignable to type 'Partial<FormState<BookingMethodFormData>> & { name?: string | undefined; values?: BookingMethodFormData | undefined; type?: EventType | undefined; }'.
                Type 'Partial<FormState<{ earliestDeparture: Date; latestDeparture: Date; min_duration: number; max_duration: number; max_price: number; nonstop_required: boolean; baggage_included_required: boolean; ... 6 more ...; auto_book_consent?: boolean | undefined; }>> & { ...; }' is not assignable to type 'Partial<FormState<BookingMethodFormData>>'.
                  Types of property 'dirtyFields' are incompatible.
                    Type 'Partial<Readonly<{ earliestDeparture?: boolean | undefined; latestDeparture?: boolean | undefined; min_duration?: boolean | undefined; max_duration?: boolean | undefined; max_price?: boolean | undefined; ... 8 more ...; auto_book_consent?: boolean | undefined; }>> | undefined' is not assignable to type 'Partial<Readonly<{ [x: string]: boolean; auto_book_enabled?: boolean | undefined; }>> | undefined'.
                      Type 'Partial<Readonly<{ earliestDeparture?: boolean | undefined; latestDeparture?: boolean | undefined; min_duration?: boolean | undefined; max_duration?: boolean | undefined; max_price?: boolean | undefined; ... 8 more ...; auto_book_consent?: boolean | undefined; }>>' is not assignable to type 'Partial<Readonly<{ [x: string]: boolean; auto_book_enabled?: boolean | undefined; }>>'.
                        Property 'nyc_airports' is incompatible with index signature.
                          Type 'boolean[]' is not assignable to type 'boolean | undefined'.
src/components/trip/sections/DateRangeSection.tsx(23,9): error TS2322: Type 'Control<DateRangeFormData>' is not assignable to type 'Control<TripDateFormData>'.
  The types of '_subjects.state' are incompatible between these types.
    Type 'FormStateSubjectRef<DateRangeFormData>' is not assignable to type 'FormStateSubjectRef<TripDateFormData>'.
      Type 'FormStateSubjectRef<DateRangeFormData>' is not assignable to type '{ readonly observers: Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>[]; subscribe: (value: Observer<...>) => Subscription; unsubscribe: Noop; }'.
        Types of property 'subscribe' are incompatible.
          Type '(value: Observer<Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }>) => Subscription' is not assignable to type '(value: Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>) => Subscription'.
            Types of parameters 'value' and 'value' are incompatible.
              Type 'Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>' is not assignable to type 'Observer<Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }>'.
                Type 'Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }' is not assignable to type 'Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }'.
                  Type 'Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }' is not assignable to type 'Partial<FormState<TripDateFormData>>'.
                    Types of property 'defaultValues' are incompatible.
                      Type 'Readonly<{ [x: string]: unknown; earliestDeparture?: string | Date | undefined; latestDeparture?: string | Date | undefined; }> | undefined' is not assignable to type 'Readonly<{ [x: string]: unknown; earliestDeparture?: Date | undefined; latestDeparture?: Date | undefined; }> | undefined'.
                        Type 'Readonly<{ [x: string]: unknown; earliestDeparture?: string | Date | undefined; latestDeparture?: string | Date | undefined; }>' is not assignable to type 'Readonly<{ [x: string]: unknown; earliestDeparture?: Date | undefined; latestDeparture?: Date | undefined; }>'.
                          Types of property 'earliestDeparture' are incompatible.
                            Type 'string | Date | undefined' is not assignable to type 'Date | undefined'.
                              Type 'string' is not assignable to type 'Date'.
src/components/trip/sections/DateRangeSection.tsx(30,9): error TS2322: Type 'Control<DateRangeFormData>' is not assignable to type 'Control<TripDateFormData>'.
  The types of '_subjects.state' are incompatible between these types.
    Type 'FormStateSubjectRef<DateRangeFormData>' is not assignable to type 'FormStateSubjectRef<TripDateFormData>'.
      Type 'FormStateSubjectRef<DateRangeFormData>' is not assignable to type '{ readonly observers: Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>[]; subscribe: (value: Observer<...>) => Subscription; unsubscribe: Noop; }'.
        Types of property 'subscribe' are incompatible.
          Type '(value: Observer<Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }>) => Subscription' is not assignable to type '(value: Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>) => Subscription'.
            Types of parameters 'value' and 'value' are incompatible.
              Type 'Observer<Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }>' is not assignable to type 'Observer<Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }>'.
                Type 'Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }' is not assignable to type 'Partial<FormState<TripDateFormData>> & { name?: string | undefined; values?: TripDateFormData | undefined; type?: EventType | undefined; }'.
                  Type 'Partial<FormState<DateRangeFormData>> & { name?: string | undefined; values?: DateRangeFormData | undefined; type?: EventType | undefined; }' is not assignable to type 'Partial<FormState<TripDateFormData>>'.
                    Types of property 'defaultValues' are incompatible.
                      Type 'Readonly<{ [x: string]: unknown; earliestDeparture?: string | Date | undefined; latestDeparture?: string | Date | undefined; }> | undefined' is not assignable to type 'Readonly<{ [x: string]: unknown; earliestDeparture?: Date | undefined; latestDeparture?: Date | undefined; }> | undefined'.
                        Type 'Readonly<{ [x: string]: unknown; earliestDeparture?: string | Date | undefined; latestDeparture?: string | Date | undefined; }>' is not assignable to type 'Readonly<{ [x: string]: unknown; earliestDeparture?: Date | undefined; latestDeparture?: Date | undefined; }>'.
                          Types of property 'earliestDeparture' are incompatible.
                            Type 'string | Date | undefined' is not assignable to type 'Date | undefined'.
                              Type 'string' is not assignable to type 'Date'.
src/components/trip/sections/DestinationSection.tsx(36,15): error TS2322: Type '{} | undefined' is not assignable to type 'string | undefined'.
  Type '{}' is not assignable to type 'string'.
src/components/trip/sections/DestinationSection.tsx(67,16): error TS2322: Type '{ disabled: boolean; className: string; onChange: (...event: any[]) => void; onBlur: Noop; value: unknown; name: "destination_other"; ref: RefCallBack; placeholder: string; }' is not assignable to type 'Omit<DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>, "ref">'.
  Types of property 'value' are incompatible.
    Type 'unknown' is not assignable to type 'string | number | readonly string[] | undefined'.
src/components/trip/sections/EnhancedDestinationSection.tsx(50,17): error TS2322: Type '{}' is not assignable to type 'string'.
src/components/trip/sections/EnhancedDestinationSection.tsx(77,18): error TS2322: Type '{ disabled: boolean; onChange: (...event: any[]) => void; onBlur: Noop; value: unknown; name: "destination_other"; ref: RefCallBack; placeholder: string; className: string; }' is not assignable to type 'Omit<DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>, "ref">'.
  Types of property 'value' are incompatible.
    Type 'unknown' is not assignable to type 'string | number | readonly string[] | undefined'.
src/components/trip/sections/TripSummaryChips.tsx(52,7): error TS18048: 'watchedFields.nyc_airports.length' is possibly 'undefined'.
src/components/trip/sections/TripSummaryChips.tsx(53,21): error TS2488: Type 'string[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.
src/components/trip/StickyFormActions.tsx(64,20): error TS18048: 'watchedFields.nyc_airports.length' is possibly 'undefined'.
src/components/trip/StickyFormActions.tsx(65,9): error TS18048: 'watchedFields.nyc_airports' is possibly 'undefined'.
src/components/trip/TripNumberField.tsx(58,18): error TS2322: Type '{ onChange: (...event: any[]) => void; onBlur: Noop; value: unknown; disabled?: boolean | undefined; name: string; ref: RefCallBack; type: "number"; placeholder: string; className: string; }' is not assignable to type 'Omit<DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>, "ref">'.
  Types of property 'value' are incompatible.
    Type 'unknown' is not assignable to type 'string | number | readonly string[] | undefined'.
src/components/trip/TripNumberField.tsx(66,16): error TS2322: Type '{ onChange: (...event: any[]) => void; onBlur: Noop; value: unknown; disabled?: boolean | undefined; name: string; ref: RefCallBack; type: "number"; placeholder: string; }' is not assignable to type 'Omit<DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>, "ref">'.
  Types of property 'value' are incompatible.
    Type 'unknown' is not assignable to type 'string | number | readonly string[] | undefined'.
src/components/trip/TripRequestForm.tsx(176,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/components/wallet/PaymentMethodList.tsx(183,25): error TS2322: Type '{ paymentMethod: { id: string; last4: string; brand: string; nickname: string | undefined; isDefault: boolean; }; onUpdateNickname: (id: string, nickname?: string | undefined) => void; onSetDefault: (id: string) => void; }' is not assignable to type 'IntrinsicAttributes'.
  Property 'paymentMethod' does not exist on type 'IntrinsicAttributes'.
src/context/PersonalizationContext.tsx(38,29): error TS2322: Type 'unknown' is not assignable to type 'Record<string, unknown> | undefined'.
src/context/PersonalizationContext.tsx(50,38): error TS2322: Type '{ personalizationData: PersonalizationData | null | undefined; isLoading: boolean; error: Error | null; trackEvent: (eventType: string, context?: unknown) => void; refetch: (options?: RefetchOptions) => Promise<...>; }' is not assignable to type 'PersonalizationContextType'.
  Types of property 'personalizationData' are incompatible.
    Type 'PersonalizationData | null | undefined' is not assignable to type 'PersonalizationData | null'.
      Type 'undefined' is not assignable to type 'PersonalizationData | null'.
src/context/WalletProvider.tsx(23,44): error TS2339: Property 'children' does not exist on type '{}'.
src/contexts/PersonalizationContext.tsx(173,38): error TS2322: Type '{ personalizationData: PersonalizationData | null; loading: boolean; error: PersonalizationError | null; refreshPersonalizationData: () => Promise<void>; isPersonalizationEnabled: { ...; }; abTestVariant: string | null; experimentConfig: Record<...> | null; trackPersonalizationEvent: (eventType: "exposure" | "conver...' is not assignable to type 'PersonalizationContextType'.
  Types of property 'isPersonalizationEnabled' are incompatible.
    Type '{ data: boolean; isLoading: boolean; isError: boolean; error: null; }' is not assignable to type 'boolean'.
src/contexts/WalletContext.tsx(8,3): error TS2440: Import declaration conflicts with local declaration of 'PaymentMethodError'.
src/contexts/WalletContext.tsx(190,11): error TS2769: No overload matches this call.
  Overload 1 of 2, '(type: "presence", filter: { event: "sync"; }, callback: () => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"presence"'.
  Overload 2 of 2, '(type: "broadcast", filter: { event: string; }, callback: (payload: { [key: string]: any; type: "broadcast"; event: string; }) => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"broadcast"'.
src/flightSearchV2/useFlightOffers.test.ts(29,86): error TS2345: Argument of type 'boolean' is not assignable to parameter of type '{ data: boolean; isLoading: boolean; isError: boolean; error: null; }'.
src/hooks/__tests__/useFormAnalytics.test.ts(45,67): error TS2769: No overload matches this call.
  Overload 1 of 2, '(callback: () => void): void', gave the following error.
    Argument of type '(value: unknown) => void' is not assignable to parameter of type '() => void'.
      Target signature provides too few arguments. Expected 1 or more, but got 0.
  Overload 2 of 2, '(callback: VoidFunction): void', gave the following error.
    Argument of type '(value: unknown) => void' is not assignable to parameter of type 'VoidFunction'.
      Target signature provides too few arguments. Expected 1 or more, but got 0.
src/hooks/useDuffelFlights.ts(101,64): error TS2345: Argument of type '{ maxPrice?: number; cabinClass?: "economy" | "premium_economy" | "business" | "first"; maxResults?: number; autoSearch?: boolean; }' is not assignable to parameter of type 'DuffelSearchRequest'.
  Property 'tripRequestId' is missing in type '{ maxPrice?: number; cabinClass?: "economy" | "premium_economy" | "business" | "first"; maxResults?: number; autoSearch?: boolean; }' but required in type 'DuffelSearchRequest'.
src/hooks/useDuffelPayment.ts(65,59): error TS2345: Argument of type '{ amount: number; currency: string; metadata: { payment_type: string; integration_version: string; duffel_offer_id?: string | undefined; flight_route?: string | undefined; passenger_name?: string | undefined; }; }' is not assignable to parameter of type 'number'.
src/hooks/useDuffelPayment.ts(76,25): error TS2339: Property 'payment_intent_id' does not exist on type 'PaymentIntent'.
src/hooks/useDynamicForm.ts(146,5): error TS2339: Property 'reloadConfiguration' does not exist on type 'UseFormConfigurationReturn'.
src/hooks/useDynamicForm.ts(262,9): error TS2739: Type '{ submittedAt: string; userAgent: string; timezone: string; formTitle: any; submissionId: `${string}-${string}-${string}-${string}-${string}`; }' is missing the following properties from type '{ [key: string]: unknown; submittedAt: string; userAgent: string; formVersion: number; instanceId: string; }': formVersion, instanceId
src/hooks/useDynamicForm.ts(329,41): error TS7006: Parameter 'f' implicitly has an 'any' type.
src/hooks/useDynamicForm.ts(391,5): error TS2322: Type '(formData: Record<string, unknown>) => Promise<ValidationResult>' is not assignable to type '(formData?: Record<string, unknown> | FormData | undefined) => Promise<ValidationResult>'.
  Types of parameters 'formData' and 'formData' are incompatible.
    Type 'Record<string, unknown> | FormData | undefined' is not assignable to type 'Record<string, unknown>'.
      Type 'undefined' is not assignable to type 'Record<string, unknown>'.
src/hooks/useFeatureFlag.ts(82,20): error TS2345: Argument of type 'FeatureFlag' is not assignable to parameter of type 'string'.
src/hooks/useFormState.ts(34,20): error TS2345: Argument of type '(prevState: FormState) => { values: { [x: string]: unknown; }; errors: FieldErrors<Record<string, unknown>>; isSubmitting: boolean; isValid: boolean; touched: Record<string, boolean>; }' is not assignable to parameter of type 'SetStateAction<FormState>'.
  Type '(prevState: FormState) => { values: { [x: string]: unknown; }; errors: FieldErrors<Record<string, unknown>>; isSubmitting: boolean; isValid: boolean; touched: Record<string, boolean>; }' is not assignable to type '(prevState: FormState) => FormState'.
    Call signature return types '{ values: { [x: string]: unknown; }; errors: FieldErrors<Record<string, unknown>>; isSubmitting: boolean; isValid: boolean; touched: Record<string, boolean>; }' and 'FormState' are incompatible.
      The types of 'errors' are incompatible between these types.
        Type 'FieldErrors<Record<string, unknown>>' is not assignable to type 'Record<string, string>'.
          'string' index signatures are incompatible.
            Type 'Merge<FieldError, FieldErrorsImpl<{}>> | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
src/hooks/useFormValidation.ts(63,37): error TS2345: Argument of type 'DynamicFormConfig' is not assignable to parameter of type 'FormConfiguration'.
  Type 'DynamicFormConfig' is missing the following properties from type 'FormConfiguration': id, name, version
src/hooks/useFormValidation.ts(153,55): error TS2345: Argument of type 'DynamicFormConfig' is not assignable to parameter of type 'FormConfiguration'.
  Type 'DynamicFormConfig' is missing the following properties from type 'FormConfiguration': id, name, version
src/hooks/useFormValidation.ts(293,13): error TS2339: Property 'required' does not exist on type 'FieldConfiguration'.
src/hooks/useFormValidation.ts(293,45): error TS2339: Property 'required' does not exist on type 'FieldConfiguration'.
src/hooks/useNetworkStatus.ts(61,7): error TS2722: Cannot invoke an object which is possibly 'undefined'.
src/hooks/useNetworkStatus.ts(72,9): error TS2722: Cannot invoke an object which is possibly 'undefined'.
src/hooks/usePersonalization.ts(77,27): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/hooks/usePersonalization.ts(104,25): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/hooks/useTripOffers.ts(182,16): error TS2345: Argument of type '{ pool1: ScoredOffer[]; pool2: ScoredOffer[]; pool3: ScoredOffer[]; }' is not assignable to parameter of type 'SetStateAction<{ pool1: ScoredOffer[]; pool2: ScoredOffer[]; pool3: ScoredOffer[]; }>'.
  Type '{ pool1: import("/Users/parkerbarnett/github-link-up-buddy/src/services/api/flightSearchApi").ScoredOffer[]; pool2: import("/Users/parkerbarnett/github-link-up-buddy/src/services/api/flightSearchApi").ScoredOffer[]; pool3: import("/Users/parkerbarnett/github-link-up-buddy/src/services/api/flightSearchApi").ScoredOff...' is not assignable to type '{ pool1: import("/Users/parkerbarnett/github-link-up-buddy/src/types/offer").ScoredOffer[]; pool2: import("/Users/parkerbarnett/github-link-up-buddy/src/types/offer").ScoredOffer[]; pool3: import("/Users/parkerbarnett/github-link-up-buddy/src/types/offer").ScoredOffer[]; }'.
    Types of property 'pool1' are incompatible.
      Type 'import("/Users/parkerbarnett/github-link-up-buddy/src/services/api/flightSearchApi").ScoredOffer[]' is not assignable to type 'import("/Users/parkerbarnett/github-link-up-buddy/src/types/offer").ScoredOffer[]'.
        Type 'ScoredOffer' is missing the following properties from type 'ScoredOffer': priceStructure, carryOnIncluded, reasons, pool, and 9 more.
src/hooks/useTripOffers.ts(187,9): error TS2322: Type '{ budget: number; pool1: ScoredOffer[]; pool2: ScoredOffer[]; pool3: ScoredOffer[]; }' is not assignable to type '{ pool1: ScoredOffer[]; pool2: ScoredOffer[]; pool3: ScoredOffer[]; budget: number; }'.
  Types of property 'pool1' are incompatible.
    Type 'import("/Users/parkerbarnett/github-link-up-buddy/src/services/api/flightSearchApi").ScoredOffer[]' is not assignable to type 'import("/Users/parkerbarnett/github-link-up-buddy/src/types/offer").ScoredOffer[]'.
      Type 'ScoredOffer' is missing the following properties from type 'ScoredOffer': priceStructure, carryOnIncluded, reasons, pool, and 9 more.
src/integrations/supabase/client.ts(141,19): error TS2322: Type '{ select: () => ...; eq: () => ...; neq: () => ...; gt: () => ...; gte: () => ...; lt: () => ...; lte: () => ...; like: () => ...; ilike: () => ...; is: () => ...; in: () => ...; contains: () => ...; containedBy: () => ...; rangeGt: () => ...; rangeGte: () => ...; ... 20 more ...; finally: (onFinally?: any) => Promi...' is not assignable to type 'MockQueryChain | PostgrestQueryBuilder<any, Table, TableName, Table extends { Relationships: infer R; } ? R : unknown> | PostgrestQueryBuilder<...>'.
  Type '{ select: () => ...; eq: () => ...; neq: () => ...; gt: () => ...; gte: () => ...; lt: () => ...; lte: () => ...; like: () => ...; ilike: () => ...; is: () => ...; in: () => ...; contains: () => ...; containedBy: () => ...; rangeGt: () => ...; rangeGte: () => ...; ... 20 more ...; finally: (onFinally?: any) => Promi...' is not assignable to type 'MockQueryChain'.
    The types returned by 'catch()' are incompatible between these types.
      Type 'Promise<{ data: never[]; error: null; }>' is not assignable to type 'Promise<{ data: []; error: null; }>'.
        Type '{ data: never[]; error: null; }' is not assignable to type '{ data: []; error: null; }'.
          Types of property 'data' are incompatible.
            Type 'never[]' is not assignable to type '[]'.
              Target allows only 0 element(s) but source may have more.
src/lib/errors/__tests__/handler.test.ts(134,16): error TS18046: 'error' is of type 'unknown'.
src/lib/errors/handler.ts(337,5): error TS2322: Type 'unknown' is not assignable to type 'boolean'.
src/lib/feature-flags/useFeatureFlag.ts(51,40): error TS2345: Argument of type 'FeatureFlag' is not assignable to parameter of type 'string'.
src/lib/filtering/__tests__/AirlineFilter.test.ts(199,14): error TS2532: Object is possibly 'undefined'.
src/lib/filtering/__tests__/AirlineFilter.test.ts(199,14): error TS2571: Object is of type 'unknown'.
src/lib/filtering/__tests__/end-to-end-integration.test.ts(231,23): error TS18046: 'mockAmadeusOffer.itineraries' is of type 'unknown'.
src/lib/filtering/__tests__/end-to-end-integration.test.ts(340,14): error TS18048: 'dbOffer.rawData' is possibly 'undefined'.
src/lib/filtering/__tests__/integration-simple.test.ts(34,3): error TS2322: Type '{ id: string; provider: "Amadeus" | "Duffel"; totalBasePrice: number; currency: string; itineraries: unknown[]; carryOnIncluded: true; carryOnFee: number; totalPriceWithCarryOn: number; stopsCount: number; validatingAirlines: string[]; rawData: RawOffer; }[]' is not assignable to type 'FlightOffer[]'.
  Type '{ id: string; provider: "Amadeus" | "Duffel"; totalBasePrice: number; currency: string; itineraries: unknown[]; carryOnIncluded: true; carryOnFee: number; totalPriceWithCarryOn: number; stopsCount: number; validatingAirlines: string[]; rawData: RawOffer; }' is not assignable to type 'FlightOffer'.
    Types of property 'itineraries' are incompatible.
      Type 'unknown[]' is not assignable to type 'Itinerary[]'.
        Type 'unknown' is not assignable to type 'Itinerary'.
src/lib/filtering/adapters/ProviderAdapters.ts(149,7): error TS2322: Type 'AmadeusRawOffer' is not assignable to type 'Record<string, unknown>'.
  Index signature for type 'string' is missing in type 'AmadeusRawOffer'.
src/lib/filtering/adapters/ProviderAdapters.ts(260,5): error TS2322: Type '{ departure: Airport; arrival: Airport; carrierCode: string; flightNumber: string; aircraft: { code: string | undefined; } | undefined; duration: string; numberOfStops: number; }[]' is not assignable to type 'Segment[]'.
  Type '{ departure: Airport; arrival: Airport; carrierCode: string; flightNumber: string; aircraft: { code: string | undefined; } | undefined; duration: string; numberOfStops: number; }' is not assignable to type 'Segment'.
    Types of property 'aircraft' are incompatible.
      Type '{ code: string | undefined; } | undefined' is not assignable to type '{ code: string; } | undefined'.
        Type '{ code: string | undefined; }' is not assignable to type '{ code: string; }'.
          Types of property 'code' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
src/lib/filtering/adapters/ProviderAdapters.ts(310,7): error TS2322: Type 'DuffelRawOffer' is not assignable to type 'Record<string, unknown>'.
  Index signature for type 'string' is missing in type 'DuffelRawOffer'.
src/lib/filtering/adapters/ProviderAdapters.ts(426,5): error TS2322: Type '{ departure: Airport; arrival: Airport; carrierCode: string; flightNumber: string; aircraft: { code: string | undefined; } | undefined; duration: string; numberOfStops: number; }[]' is not assignable to type 'Segment[]'.
  Type '{ departure: Airport; arrival: Airport; carrierCode: string; flightNumber: string; aircraft: { code: string | undefined; } | undefined; duration: string; numberOfStops: number; }' is not assignable to type 'Segment'.
    Types of property 'aircraft' are incompatible.
      Type '{ code: string | undefined; } | undefined' is not assignable to type '{ code: string; } | undefined'.
        Type '{ code: string | undefined; }' is not assignable to type '{ code: string; }'.
          Types of property 'code' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
src/lib/filtering/FilterFactory.ts(259,32): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type '{}' is not assignable to parameter of type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type '{}' is not assignable to parameter of type 'string | number'.
src/lib/filtering/FilterFactory.ts(260,32): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type '{}' is not assignable to parameter of type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type '{}' is not assignable to parameter of type 'string | number'.
src/lib/filtering/FilterFactory.ts(286,32): error TS2365: Operator '<' cannot be applied to types '{}' and 'number'.
src/lib/filtering/FilterFactory.ts(342,43): error TS2345: Argument of type 'unknown[]' is not assignable to parameter of type 'FlightOffer[]'.
  Type 'unknown' is not assignable to type 'FlightOffer'.
src/lib/filtering/filters/RoundTripFilter.ts(198,43): error TS2339: Property 'length' does not exist on type '{}'.
src/lib/filtering/filters/RoundTripFilter.ts(199,101): error TS2339: Property 'length' does not exist on type '{}'.
src/lib/filtering/filters/RoundTripFilter.ts(285,7): error TS2322: Type 'boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.
src/lib/personalization/abTesting.ts(299,42): error TS7006: Parameter 'e' implicitly has an 'any' type.
src/lib/personalization/abTesting.ts(300,42): error TS7006: Parameter 'e' implicitly has an 'any' type.
src/lib/personalization/abTesting.ts(301,40): error TS7006: Parameter 'e' implicitly has an 'any' type.
src/lib/personalization/voiceAndTone.ts(149,28): error TS7053: Element implicitly has an 'any' type because expression of type 'GreetingContext' can't be used to index type '{ dashboard: { withFirstName: string[]; withFirstNameAndTrip: string[]; generic: string[]; }; bookingConfirmation: { withFirstName: string[]; withFirstNameAndTrip: string[]; generic: string[]; }; profile: { ...; }; error: { ...; }; }'.
  Property 'flightStatus' does not exist on type '{ dashboard: { withFirstName: string[]; withFirstNameAndTrip: string[]; generic: string[]; }; bookingConfirmation: { withFirstName: string[]; withFirstNameAndTrip: string[]; generic: string[]; }; profile: { ...; }; error: { ...; }; }'.
src/lib/privacy/consentService.ts(270,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(type: keyof WindowEventMap, listener: (this: Window, ev: ClipboardEvent | Event | CompositionEvent | UIEvent | FocusEvent | ... 24 more ... | StorageEvent) => any, options?: boolean | ... 1 more ... | undefined): void', gave the following error.
    Argument of type '"consentUpdated"' is not assignable to parameter of type 'keyof WindowEventMap'.
  Overload 2 of 2, '(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | undefined): void', gave the following error.
    Argument of type '(event: CustomEvent) => void' is not assignable to parameter of type 'EventListenerOrEventListenerObject'.
      Type '(event: CustomEvent) => void' is not assignable to type 'EventListener'.
        Types of parameters 'event' and 'evt' are incompatible.
          Type 'Event' is missing the following properties from type 'CustomEvent<any>': detail, initCustomEvent
src/lib/repositories/tripRequestRepository.ts(146,90): error TS2345: Argument of type 'number | undefined' is not assignable to parameter of type 'number'.
  Type 'undefined' is not assignable to type 'number'.
src/main.tsx(45,33): error TS2345: Argument of type '() => JSX.Element' is not assignable to parameter of type '{ children: ReactNode; }'.
src/main.tsx(46,56): error TS2604: JSX element type 'WrappedApp' does not have any construct or call signatures.
src/main.tsx(46,56): error TS2786: 'WrappedApp' cannot be used as a JSX component.
  Its type 'Element' is not a valid JSX element type.
src/pages/Dashboard.tsx(119,11): error TS2769: No overload matches this call.
  Overload 1 of 2, '(type: "presence", filter: { event: "sync"; }, callback: () => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"presence"'.
  Overload 2 of 2, '(type: "broadcast", filter: { event: string; }, callback: (payload: { [key: string]: any; type: "broadcast"; event: string; }) => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"broadcast"'.
src/pages/Dashboard.tsx(215,9): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/pages/Dashboard.tsx(245,31): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/pages/Dashboard.tsx(265,27): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/pages/DuffelTest.tsx(30,51): error TS2345: Argument of type '{ title: "mr"; given_name: string; family_name: string; born_on: string; gender: "male"; email: string; phone_number: string; }' is not assignable to parameter of type 'DuffelTraveler | (() => DuffelTraveler)'.
  Property 'type' is missing in type '{ title: "mr"; given_name: string; family_name: string; born_on: string; gender: "male"; email: string; phone_number: string; }' but required in type 'DuffelTraveler'.
src/pages/Profile.tsx(87,9): error TS2322: Type 'ProfileCompletenessScore | { overall: number; categories: { basic_info: number; contact_info: number; travel_documents: number; preferences: number; verification: number; }; missing_fields: string[]; recommendations: Record<...>[]; }' is not assignable to type 'ProfileCompletenessScore'.
  Type '{ overall: number; categories: { basic_info: number; contact_info: number; travel_documents: number; preferences: number; verification: number; }; missing_fields: string[]; recommendations: Record<string, unknown>[]; }' is not assignable to type 'ProfileCompletenessScore'.
    Types of property 'recommendations' are incompatible.
      Type 'Record<string, unknown>[]' is not assignable to type 'ProfileRecommendation[]'.
        Type 'Record<string, unknown>' is missing the following properties from type 'ProfileRecommendation': category, priority, title, description, and 2 more.
src/pages/Profile.tsx(248,9): error TS2322: Type 'ProfileCompletenessScore | { overall: number; categories: { basic_info: number; contact_info: number; travel_documents: number; preferences: number; verification: number; }; missing_fields: string[]; recommendations: Record<...>[]; }' is not assignable to type 'ProfileCompletenessScore'.
  Type '{ overall: number; categories: { basic_info: number; contact_info: number; travel_documents: number; preferences: number; verification: number; }; missing_fields: string[]; recommendations: Record<string, unknown>[]; }' is not assignable to type 'ProfileCompletenessScore'.
    Types of property 'recommendations' are incompatible.
      Type 'Record<string, unknown>[]' is not assignable to type 'ProfileRecommendation[]'.
        Type 'Record<string, unknown>' is missing the following properties from type 'ProfileRecommendation': category, priority, title, description, and 2 more.
src/pages/TripConfirm.tsx(257,9): error TS2769: No overload matches this call.
  Overload 1 of 2, '(type: "presence", filter: { event: "sync"; }, callback: () => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"presence"'.
  Overload 2 of 2, '(type: "broadcast", filter: { event: string; }, callback: (payload: { [key: string]: any; type: "broadcast"; event: string; }) => void): any', gave the following error.
    Argument of type '"postgres_changes"' is not assignable to parameter of type '"broadcast"'.
src/pages/TripOffersV2Enhanced.tsx(295,56): error TS2345: Argument of type 'ScoredOffer' is not assignable to parameter of type 'Record<string, unknown>'.
  Index signature for type 'string' is missing in type 'ScoredOffer'.
src/pages/TripOffersWithPools.tsx(34,9): error TS2322: Type 'TripDetails | undefined' is not assignable to type 'TripDetails | null'.
  Type 'undefined' is not assignable to type 'TripDetails | null'.
src/pages/Wallet.tsx(166,26): error TS18048: 'pm.brand' is possibly 'undefined'.
src/services/api/paymentMethodsApiKMS.ts(33,31): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/api/paymentMethodsApiKMS.ts(112,25): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/api/profileApiKMS.ts(99,9): error TS2322: Type 'string' is not assignable to type 'Record<string, any> & string & { theme?: "light" | "system" | "dark" | undefined; notifications?: { email?: boolean | undefined; push?: boolean | undefined; marketing?: boolean | undefined; } | undefined; privacy?: { ...; } | undefined; } & { ...; } & string[]'.
  Type 'string' is not assignable to type 'Record<string, any>'.
src/services/api/profileApiKMS.ts(114,11): error TS2322: Type 'string' is not assignable to type 'Record<string, any> & string & { theme?: "light" | "system" | "dark" | undefined; notifications?: { email?: boolean | undefined; push?: boolean | undefined; marketing?: boolean | undefined; } | undefined; privacy?: { ...; } | undefined; } & { ...; } & string[]'.
  Type 'string' is not assignable to type 'Record<string, any>'.
src/services/campaignService.ts(9,29): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/campaignService.ts(82,23): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/campaignService.ts(135,7): error TS2739: Type 'Record<string, unknown>' is missing the following properties from type 'CampaignCriteria': destination, departure_dates, max_price, direct_flights_only
src/services/campaignService.ts(136,7): error TS2322: Type 'Record<string, unknown>[]' is not assignable to type '{ timestamp: string; price: number; currency: string; offerId?: string | undefined; }[]'.
  Type 'Record<string, unknown>' is missing the following properties from type '{ timestamp: string; price: number; currency: string; offerId?: string | undefined; }': timestamp, price, currency
src/services/currencyService.ts(344,23): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/duffelService.ts(194,13): error TS18046: 'error' is of type 'unknown'.
src/services/duffelService.ts(213,21): error TS18046: 'error' is of type 'unknown'.
src/services/duffelService.ts(302,5): error TS2322: Type 'string' is not assignable to type '"ms" | "mr" | "mrs" | "miss" | "dr"'.
src/services/duffelService.ts(303,5): error TS2322: Type 'string' is not assignable to type '"male" | "female"'.
src/services/flightApi.client.ts(28,21): error TS7053: Element implicitly has an 'any' type because expression of type '0' can't be used to index type '{}'.
  Property '0' does not exist on type '{}'.
src/services/flightApi.client.ts(29,26): error TS7053: Element implicitly has an 'any' type because expression of type '1' can't be used to index type '{}'.
  Property '1' does not exist on type '{}'.
src/services/flightApi.client.ts(35,14): error TS7053: Element implicitly has an 'any' type because expression of type '0' can't be used to index type '{}'.
  Property '0' does not exist on type '{}'.
src/services/flightApi.client.ts(36,28): error TS2339: Property 'total' does not exist on type '{}'.
src/services/form-config.service.ts(207,25): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/stripeService.ts(135,9): error TS2322: Type 'PaymentMethodParams' is not assignable to type 'string | Omit<CreatePaymentMethodCardData, "type"> | undefined'.
  Type 'PaymentMethodParams' is not assignable to type 'Omit<CreatePaymentMethodCardData, "type">'.
    Types of property 'card' are incompatible.
      Type 'unknown' is not assignable to type 'StripeCardElement | StripeCardNumberElement | { token: string; }'.
src/services/stripeService.ts(245,50): error TS18046: 'error' is of type 'unknown'.
src/services/stripeWalletService.ts(10,3): error TS2322: Type '"2024-06-20"' is not assignable to type '"2025-06-30.basil"'.
src/services/stripeWalletService.ts(280,35): error TS2339: Property 'id' does not exist on type 'never'.
src/services/tripOffersService.ts(129,44): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/tripOffersService.ts(142,54): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/services/tripService.ts(35,5): error TS2322: Type 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.
src/services/tripService.ts(55,5): error TS2769: No overload matches this call.
  Overload 1 of 2, '(queryFn: () => PostgrestResponseFailure | PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; ... 18 more ...; user_id: string; }> | PostgrestResponseSuccess<...> | Promise<...>, options?: { ...; } | undefined): Promise<...>', gave the following error.
    Type 'Promise<{ data: null; error: null; }> | PostgrestBuilder<any, false>' is not assignable to type 'PostgrestResponseFailure | PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; ... 18 more ...; user_id: string; }> | PostgrestResponseSuccess<...> | Promise<...>'.
      Type 'Promise<{ data: null; error: null; }>' is not assignable to type 'PostgrestResponseFailure | PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; ... 18 more ...; user_id: string; }> | PostgrestResponseSuccess<...> | Promise<...>'.
        Type 'Promise<{ data: null; error: null; }>' is not assignable to type 'Promise<PostgrestResponseFailure | PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; ... 18 more ...; user_id: string; }> | PostgrestResponseSuccess<...>>'.
          Type '{ data: null; error: null; }' is not assignable to type 'PostgrestResponseFailure | PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; ... 18 more ...; user_id: string; }> | PostgrestResponseSuccess<...>'.
            Type '{ data: null; error: null; }' is missing the following properties from type 'PostgrestResponseSuccess<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; departure_airports: string[]; ... 15 more ...; user_id: string; } | null>': count, status, statusText
  Overload 2 of 2, '(queryFn: () => PostgrestResponse<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; ... 16 more ...; user_id: string; }> | Promise<...>, options?: { ...; } | undefined): Promise<...>', gave the following error.
    Type 'Promise<{ data: null; error: null; }> | PostgrestBuilder<any, false>' is not assignable to type 'PostgrestResponse<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; departure_airports: string[]; ... 15 more ...; user_id: string; }> | Promise<...>'.
      Type 'Promise<{ data: null; error: null; }>' is not assignable to type 'PostgrestResponse<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; departure_airports: string[]; ... 15 more ...; user_id: string; }> | Promise<...>'.
        Type 'Promise<{ data: null; error: null; }>' is not assignable to type 'Promise<PostgrestResponse<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; departure_airports: string[]; ... 15 more ...; user_id: string; }>>'.
          Type '{ data: null; error: null; }' is not assignable to type 'PostgrestResponse<{ adults: number | null; auto_book: boolean; auto_book_enabled: boolean; baggage_included_required: boolean; best_price: number | null; budget: number; created_at: string; departure_airports: string[]; ... 15 more ...; user_id: string; }>'.
            Type '{ data: null; error: null; }' is missing the following properties from type 'PostgrestResponseFailure': count, status, statusText
src/services/typedSupabaseService.ts(306,29): error TS1320: Type of 'await' operand must either be a valid promise or must not contain a callable 'then' member.
src/stores/useFormStore.ts(425,46): error TS2352: Conversion of type 'Map<string, FormConfiguration>' to type '[string, FormConfiguration][]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'Map<string, FormConfiguration>' is missing the following properties from type '[string, FormConfiguration][]': length, pop, push, concat, and 24 more.
src/stores/useFormStore.ts(426,45): error TS2352: Conversion of type 'Map<string, { configId: string; values: Record<string, unknown>; errors: Record<string, string>; touched: Record<string, boolean>; isSubmitting: boolean; }>' to type '[string, { configId: string; values: Record<string, unknown>; errors: Record<string, string>; touched: Record<string, boolean>; isSubmitting: boolean; }][]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type 'Map<string, { configId: string; values: Record<string, unknown>; errors: Record<string, string>; touched: Record<string, boolean>; isSubmitting: boolean; }>' is missing the following properties from type '[string, { configId: string; values: Record<string, unknown>; errors: Record<string, string>; touched: Record<string, boolean>; isSubmitting: boolean; }][]': length, pop, push, concat, and 24 more.
src/tests/components/dashboard/TripHistory.test.tsx(43,48): error TS2345: Argument of type '(tableName: string) => { select: ReturnType<typeof vi.fn>; eq: ReturnType<typeof vi.fn>; order: typeof mockOrder; }' is not assignable to parameter of type 'NormalizedProcedure<{ <TableName extends string, Table extends any>(relation: TableName): PostgrestQueryBuilder<any, Table, TableName, Table extends { Relationships: infer R; } ? R : unknown>; <ViewName extends string, View extends any>(relation: ViewName): PostgrestQueryBuilder<...>; }> & NormalizedProcedure<...>'.
  Type '(tableName: string) => { select: ReturnType<typeof vi.fn>; eq: ReturnType<typeof vi.fn>; order: typeof mockOrder; }' is not assignable to type 'NormalizedProcedure<{ <TableName extends string, Table extends any>(relation: TableName): PostgrestQueryBuilder<any, Table, TableName, Table extends { Relationships: infer R; } ? R : unknown>; <ViewName extends string, View extends any>(relation: ViewName): PostgrestQueryBuilder<...>; }>'.
    Type '{ select: Mock<Procedure>; eq: Mock<Procedure>; order: Mock<() => Promise<unknown>>; }' is missing the following properties from type 'PostgrestQueryBuilder<any, any, string, unknown>': url, headers, insert, upsert, and 2 more.
src/tests/components/dashboard/TripHistory.test.tsx(139,56): error TS2344: Type 'ComponentType<{ to: string; children: ReactNode; }>' does not satisfy the constraint 'Procedure'.
  Type 'ComponentClass<{ to: string; children: ReactNode; }, any>' is not assignable to type 'Procedure'.
    Type 'ComponentClass<{ to: string; children: ReactNode; }, any>' provides no match for the signature '(...args: any[]): any'.
src/tests/components/profile/SimpleProfileStatus.test.tsx(93,5): error TS2322: Type 'unknown[]' is not assignable to type 'ProfileRecommendation[]'.
  Type 'unknown' is not assignable to type 'ProfileRecommendation'.
src/tests/components/TripRequestForm.best-practices.test.tsx(268,32): error TS2345: Argument of type 'Mock<Procedure>' is not assignable to parameter of type '{ mock: { calls: [unknown[]][]; }; }'.
  The types of 'mock.calls' are incompatible between these types.
    Type 'any[][]' is not assignable to type '[unknown[]][]'.
      Type 'any[]' is not assignable to type '[unknown[]]'.
        Target requires 1 element(s) but source may have fewer.
src/tests/components/TripRequestForm.best-practices.test.tsx(356,34): error TS2554: Expected 0 arguments, but got 1.
src/tests/components/TripRequestForm.best-practices.test.tsx(361,49): error TS2339: Property 'checked' does not exist on type 'HTMLElement'.
src/tests/components/TripRequestForm.test.tsx(406,43): error TS2345: Argument of type '{ data: { id: string; brand: string; last4: string; is_default: true; nickname: string; exp_month: number; exp_year: number; created_at: string; }[]; isLoading: false; refetch: Mock<Procedure>; }' is not assignable to parameter of type 'UsePaymentMethodsReturn'.
  Type '{ data: { id: string; brand: string; last4: string; is_default: true; nickname: string; exp_month: number; exp_year: number; created_at: string; }[]; isLoading: false; refetch: Mock<Procedure>; }' is missing the following properties from type 'UsePaymentMethodsReturn': addPaymentMethod, updatePaymentMethod, deletePaymentMethod, setDefaultPaymentMethod
src/tests/hooks/useTripOffers.test.ts(541,7): error TS2578: Unused '@ts-expect-error' directive.
src/tests/hooks/useTripOffersLegacy.helpers.test.ts(51,9): error TS2322: Type 'null' is not assignable to type 'string | undefined'.
src/tests/hooks/useTripOffersLegacy.helpers.test.ts(62,9): error TS2322: Type 'null' is not assignable to type 'string | undefined'.
src/tests/payment-architecture.test.ts(193,79): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/tests/serverActions/getFlightOffers.refactored.test.ts(19,7): error TS2322: Type 'MockSupabaseClient' is not assignable to type 'SupabaseClient<Database, "public", any> | MockSupabaseClient'.
  Type 'MockSupabaseClient' is missing the following properties from type 'MockSupabaseClient': auth, rpc, channel, removeChannel
src/tests/serverActions/getFlightOffers.refactored.test.ts(43,42): error TS2345: Argument of type 'Record<string, unknown>' is not assignable to parameter of type '{ airline: string; auto_book: boolean; baggage_included: boolean; booking_url: string | null; carrier_code: string | null; created_at: string; departure_date: string; departure_time: string; ... 11 more ...; trip_request_id: string; }'.
  Type 'Record<string, unknown>' is missing the following properties from type '{ airline: string; auto_book: boolean; baggage_included: boolean; booking_url: string | null; carrier_code: string | null; created_at: string; departure_date: string; departure_time: string; ... 11 more ...; trip_request_id: string; }': airline, auto_book, baggage_included, booking_url, and 16 more.
src/tests/serverActions/getFlightOffers.refactored.test.ts(72,44): error TS2345: Argument of type 'Record<string, unknown>[]' is not assignable to parameter of type '{ airline: string; auto_book: boolean; baggage_included: boolean; booking_url: string | null; carrier_code: string | null; created_at: string; departure_date: string; departure_time: string; ... 11 more ...; trip_request_id: string; }[]'.
  Type 'Record<string, unknown>' is missing the following properties from type '{ airline: string; auto_book: boolean; baggage_included: boolean; booking_url: string | null; carrier_code: string | null; created_at: string; departure_date: string; departure_time: string; ... 11 more ...; trip_request_id: string; }': airline, auto_book, baggage_included, booking_url, and 16 more.
src/tests/unit/database/profileCompleteness.trigger.test.ts(222,59): error TS7006: Parameter 'r' implicitly has an 'any' type.
src/tests/unit/database/profileCompleteness.trigger.test.ts(223,61): error TS7006: Parameter 'r' implicitly has an 'any' type.
src/tests/unit/database/profileCompleteness.trigger.test.ts(224,58): error TS7006: Parameter 'r' implicitly has an 'any' type.
src/tests/unit/services/profileCompletenessService.enhanced.test.ts(172,9): error TS2322: Type 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
src/tests/unit/services/profileCompletenessService.enhanced.test.ts(174,9): error TS2322: Type 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
src/tests/unit/services/profileCompletenessService.enhanced.test.ts(175,9): error TS2322: Type 'Record<string, unknown> | null' is not assignable to type 'Record<string, unknown> | undefined'.
  Type 'null' is not assignable to type 'Record<string, unknown> | undefined'.
src/tests/utils/formTestHelpers.tsx(315,24): error TS2345: Argument of type 'HTMLElement | null' is not assignable to parameter of type 'Element | Node | Window | Document'.
  Type 'null' is not assignable to type 'Element | Node | Window | Document'.
src/tests/utils/formTestHelpers.tsx(318,24): error TS2345: Argument of type 'HTMLElement | null' is not assignable to parameter of type 'Element | Node | Window | Document'.
  Type 'null' is not assignable to type 'Element | Node | Window | Document'.
src/tests/utils/formTestUtils.tsx(234,38): error TS2345: Argument of type '{}' is not assignable to parameter of type 'ZodType<any, any, any>'.
  Type '{}' is missing the following properties from type 'ZodType<any, any, any>': _type, _output, _input, _def, and 34 more.
src/tests/utils/formTestUtils.tsx(295,14): error TS18046: 'submittedPayload' is of type 'unknown'.
src/tests/utils/formTestUtils.tsx(297,14): error TS18046: 'submittedPayload' is of type 'unknown'.
src/tests/utils/supabaseMocks.ts(133,35): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ SUPABASE_URL: string; SUPABASE_ANON_KEY: string; SUPABASE_SERVICE_ROLE_KEY: string; AMADEUS_CLIENT_ID: string; AMADEUS_CLIENT_SECRET: string; AMADEUS_BASE_URL: string; RESEND_API_KEY: string; STRIPE_SECRET_KEY: string; TWILIO_ACCOUNT_SID: string; }'.
  No index signature with a parameter of type 'string' was found on type '{ SUPABASE_URL: string; SUPABASE_ANON_KEY: string; SUPABASE_SERVICE_ROLE_KEY: string; AMADEUS_CLIENT_ID: string; AMADEUS_CLIENT_SECRET: string; AMADEUS_BASE_URL: string; RESEND_API_KEY: string; STRIPE_SECRET_KEY: string; TWILIO_ACCOUNT_SID: string; }'.
src/tests/utils/test-wrapper.tsx(5,10): error TS2305: Module '"@/hooks/useFormAnalytics"' has no exported member 'FormAnalyticsProvider'.
src/tests/utils/test-wrapper.tsx(44,32): error TS2322: Type '{ children: Element; config: { environment: "test"; version: string; autoBookingEnabled: boolean; priceConstraints: { minimumPrice: number; maximumPrice: number; currency: string; }; allowedCabinClasses: string[]; features: { ...; }; }; }' is not assignable to type 'IntrinsicAttributes & { children: ReactNode; }'.
  Property 'config' does not exist on type 'IntrinsicAttributes & { children: ReactNode; }'.
src/utils/authTest.ts(9,74): error TS2339: Property 'getSettings' does not exist on type '{ getUser: () => Promise<{ data: { user: null; }; error: null; }>; getSession: () => Promise<{ data: { session: null; }; error: null; }>; onAuthStateChange: (callback: any) => { data: { ...; }; error: null; }; signOut: () => Promise<...>; signInWithPassword: (credentials: any) => Promise<...>; signInWithOAuth: (opti...'.
  Property 'getSettings' does not exist on type 'SupabaseAuthClient'.
src/utils/authTest.ts(55,4): error TS2352: Conversion of type 'Window & typeof globalThis' to type 'WindowWithTestAuth' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'testAuth' is missing in type 'Window & typeof globalThis' but required in type 'WindowWithTestAuth'.
src/utils/devAuth.ts(51,4): error TS2352: Conversion of type 'Window & typeof globalThis' to type 'Record<string, unknown>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'Window & typeof globalThis'.
